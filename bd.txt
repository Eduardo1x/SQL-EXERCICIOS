CREATE DATABASE IMPACTAFY
GO

USE IMPACTAFY;
GO

CREATE TABLE USUARIO (
	email VARCHAR(100) NOT NULL,
	nick VARCHAR(100),
	CONSTRAINT pkUsuario PRIMARY KEY (email),
	CONSTRAINT uqNick UNIQUE (nick),
);

CREATE TABLE MUSICA (
	id INT IDENTITY (10, 5) NOT NULL,
	nome VARCHAR(50) NOT NULL,
	CONSTRAINT pkMusica PRIMARY KEY (id),
);

CREATE TABLE COMPRA (
	emailUsuario varchar(100) NOT NULL,
	idMusica int NOT NULL,
	data DATE NOT NULL,
	CONSTRAINT fkCompraUsuario FOREIGN KEY (emailUsuario) REFERENCES USUARIO(email),
	CONSTRAINT fkCompraMusica FOREIGN KEY (idMusica) REFERENCES MUSICA (id),
	CONSTRAINT pkCompra PRIMARY KEY (emailUsuario, idMusica),
);
